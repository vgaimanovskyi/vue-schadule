{"version":3,"sources":["webpack:///./src/views/Create.vue?6636","webpack:///./src/views/Create.vue","webpack:///./src/views/Create.vue?5955"],"names":["class","createEvent","title","error","type","value","maxlength","list","getParticipants","multy","participants","getDays","day","getTime","time","clearForm","name","data","computed","methods","validationForm","valid","this","length","validationSlots","event","getEvents","find","$store","dispatch","id","join","$router","push","commit","__exports__","render"],"mappings":"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","file":"js/chunk-ecc32c86.1bc10cb6.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Create.vue?vue&type=style&index=0&id=54f22cc7&lang=scss&scoped=true\"","<template>\n  <form class=\"form\" @submit.prevent=\"createEvent\">\n    <div class=\"form__content\">\n      <div class=\"form__block\">\n        <div class=\"label\">Name of the event:</div>\n        <input\n          class=\"input\"\n          :class=\"{ invalid: title.error }\"\n          type=\"text\"\n          v-model=\"title.value\"\n          maxlength=\"40\"\n        />\n      </div>\n\n      <div class=\"form__block\">\n        <div class=\"label\">Participants:</div>\n        <my-select\n          :list=\"getParticipants\"\n          :multy=\"true\"\n          v-model=\"participants.value\"\n          :class=\"{ invalid: participants.error }\"\n        ></my-select>\n      </div>\n\n      <div class=\"form__block\">\n        <div class=\"label\">Day:</div>\n        <my-select\n          :list=\"getDays\"\n          v-model=\"day.value\"\n          :class=\"{ invalid: day.error }\"\n        ></my-select>\n      </div>\n\n      <div class=\"form__block\">\n        <div class=\"label\">Time:</div>\n        <my-select\n          :list=\"getTime\"\n          v-model=\"time.value\"\n          :class=\"{ invalid: time.error }\"\n        ></my-select>\n      </div>\n    </div>\n    <div class=\"form__controls\">\n      <my-button class=\"btn\" type=\"button\" @click=\"clearForm\">Cancel</my-button>\n      <my-button class=\"btn\" type=\"submit\">Create</my-button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"Create\",\n  data() {\n    return {\n      title: {\n        value: \"\",\n        error: false,\n      },\n      participants: {\n        value: [],\n        error: false,\n      },\n      day: {\n        value: [],\n        error: false,\n      },\n      time: {\n        value: [],\n        error: false,\n      },\n    };\n  },\n  computed: {\n    ...mapGetters([\"getParticipants\", \"getDays\", \"getTime\", \"getEvents\"]),\n  },\n  methods: {\n    validationForm() {\n      let valid = true;\n\n      if (this.title.value.length < 3 || this.title.value.length > 40) {\n        this.title.error = true;\n        valid = false;\n      } else {\n        this.title.error = false;\n      }\n\n      if (!this.participants.value.length) {\n        this.participants.error = true;\n        valid = false;\n      } else {\n        this.participants.error = false;\n      }\n\n      if (!this.day.value.length) {\n        this.day.error = true;\n        valid = false;\n      } else {\n        this.day.error = false;\n      }\n\n      if (!this.time.value.length) {\n        this.time.error = true;\n        valid = false;\n      } else {\n        this.time.error = false;\n      }\n      return valid;\n    },\n    validationSlots() {\n      const event = this.getEvents.find(\n        (event) => event.day === this.day.value[0]\n      );\n      if (event?.time === this.time.value[0]) return false;\n      return true;\n    },\n    createEvent() {\n      if (this.validationForm()) {\n        if (this.validationSlots()) {\n          this.$store.dispatch(\"createEvent\", {\n            id: `${this.day.value.join(\"\")}_${this.time.value.join(\"\")}`,\n            title: this.title.value,\n            participants: [...this.participants.value],\n            day: this.day.value.join(\"\"),\n            time: this.day.value.join(\"\"),\n          });\n          this.$router.push(\"/\");\n        } else {\n          this.$store.commit(\n            \"SET_NEW_ERROR\",\n            \"Failed to create an event. Time slot is already booked.\"\n          );\n        }\n      }\n    },\n    clearForm() {\n      this.title.value = \"\";\n      this.title.error = false;\n\n      this.participants.value = [];\n      this.participants.error = false;\n\n      this.day.value = [];\n      this.day.error = false;\n\n      this.time.value = [];\n      this.time.error = false;\n\n      this.$router.push(\"/\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.form {\n  width: 600px;\n\n  &__content {\n    width: 65%;\n  }\n  &__controls {\n    text-align: right;\n  }\n  &__block {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 20px;\n  }\n}\n\n.input {\n  width: 200px;\n  height: 30px;\n  background: #fff;\n  border: 1px solid #000;\n  border-radius: 5px;\n  padding: 4px 10px;\n\n  font-size: 16px;\n  line-height: 20px;\n}\n.btn {\n  width: 100px;\n  margin-left: 10px;\n}\n.invalid {\n  border-color: red;\n}\n</style>","import { render } from \"./Create.vue?vue&type=template&id=54f22cc7&scoped=true\"\nimport script from \"./Create.vue?vue&type=script&lang=js\"\nexport * from \"./Create.vue?vue&type=script&lang=js\"\n\nimport \"./Create.vue?vue&type=style&index=0&id=54f22cc7&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\IT\\\\practice\\\\vue-schadule\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-54f22cc7\"]])\n\nexport default __exports__"],"sourceRoot":""}